# i18n - å›½é™…åŒ– Skill

## ç›®çš„
ä¸ºåº”ç”¨æ·»åŠ å›½é™…åŒ–ï¼ˆi18nï¼‰æ”¯æŒï¼Œé¢å‘å…¨çƒç”¨æˆ·ï¼Œé»˜è®¤æ”¯æŒè‹±æ–‡ï¼ŒæŒ‰éœ€æ”¯æŒå…¶ä»–è¯­è¨€ã€‚

## æ ¸å¿ƒåŸåˆ™

### âš ï¸ å…³é”®è¦æ±‚
1. **è‹±æ–‡ä¼˜å…ˆ** - é»˜è®¤ä¸”å¿…é¡»æ”¯æŒè‹±æ–‡ï¼ˆenï¼‰
2. **ä¸­æ–‡å¯é€‰** - ä¸­æ–‡ï¼ˆzhï¼‰ä½œä¸ºç¬¬äºŒè¯­è¨€
3. **æ–‡æœ¬å¤–ç½®** - æ‰€æœ‰ç”¨æˆ·å¯è§çš„æ–‡æœ¬éƒ½åº”é€šè¿‡ i18n ç³»ç»Ÿç®¡ç†
4. **åŠ¨æ€åˆ‡æ¢** - ç”¨æˆ·å¯ä»¥åœ¨è®¾ç½®ä¸­åˆ‡æ¢è¯­è¨€
5. **è‡ªåŠ¨æ£€æµ‹** - æ ¹æ®ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨é€‰æ‹©ï¼ˆè‹±æ–‡é»˜è®¤ï¼‰

## æŠ€æœ¯é€‰å‹

### æ¨èæ–¹æ¡ˆï¼ˆExpo å®˜æ–¹ï¼‰
- **i18next** - å¼ºå¤§çš„å›½é™…åŒ–æ¡†æ¶
- **react-i18next** - React ç»‘å®š
- **expo-localization** - è·å–ç³»ç»Ÿè¯­è¨€

```bash
npx expo install i18next react-i18next expo-localization
```

## é¡¹ç›®ç»“æ„

```
/locales
  /en
    common.json      # é€šç”¨æ–‡æœ¬
    timer.json       # è®¡æ—¶å™¨ç›¸å…³
    stats.json       # ç»Ÿè®¡ç›¸å…³
    settings.json    # è®¾ç½®ç›¸å…³
  /zh
    common.json
    timer.json
    stats.json
    settings.json
  index.ts           # i18n é…ç½®

/hooks
  useTranslation.ts  # ç¿»è¯‘ Hookï¼ˆå°è£… i18nextï¼‰
```

## å®ç°æ­¥éª¤

### ç¬¬ä¸€æ­¥ï¼šå®‰è£…ä¾èµ–

```bash
npx expo install i18next react-i18next expo-localization
```

### ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè¯­è¨€æ–‡ä»¶

**å¿…é¡»æ”¯æŒçš„è¯­è¨€æ–‡ä»¶ï¼š**

`locales/en/common.json`ï¼ˆè‹±æ–‡ - é»˜è®¤ï¼‰
```json
{
  "app_name": "Pomodoro Timer",
  "loading": "Loading...",
  "confirm": "Confirm",
  "cancel": "Cancel",
  "delete": "Delete",
  "save": "Save",
  "settings": "Settings"
}
```

`locales/zh/common.json`ï¼ˆä¸­æ–‡ - å¯é€‰ï¼‰
```json
{
  "app_name": "ç•ªèŒ„é’Ÿ",
  "loading": "åŠ è½½ä¸­...",
  "confirm": "ç¡®è®¤",
  "cancel": "å–æ¶ˆ",
  "delete": "åˆ é™¤",
  "save": "ä¿å­˜",
  "settings": "è®¾ç½®"
}
```

### ç¬¬ä¸‰æ­¥ï¼šé…ç½® i18n

`locales/index.ts`
```typescript
import i18n from 'i18next';
import { initReactI18next } from 'react-i18next';
import * as Localization from 'expo-localization';

import en from './en';
import zh from './zh';

// è¯­è¨€èµ„æº
const resources = {
  en: { translation: en },
  'zh-CN': { translation: zh },
  'zh-TW': { translation: zh },
};

// åˆå§‹åŒ– i18n
i18n
  .use(initReactI18next)
  .init({
    resources,
    lng: Localization.getLocales()[0]?.languageCode || 'en', // è‡ªåŠ¨æ£€æµ‹ç³»ç»Ÿè¯­è¨€
    fallbackLng: 'en', // é»˜è®¤è‹±æ–‡
    interpolation: {
      escapeValue: false,
    },
  });

export default i18n;
```

### ç¬¬å››æ­¥ï¼šåœ¨åº”ç”¨ä¸­ä½¿ç”¨

**åœ¨æ ¹å¸ƒå±€åˆå§‹åŒ–ï¼š**
```typescript
import '@/locales'; // å¯¼å…¥ i18n é…ç½®
```

**åœ¨ç»„ä»¶ä¸­ä½¿ç”¨ï¼š**
```typescript
import { useTranslation } from 'react-i18next';

function MyComponent() {
  const { t } = useTranslation();

  return (
    <Text>{t('common.app_name')}</Text>
  );
}
```

### ç¬¬äº”æ­¥ï¼šæ·»åŠ è¯­è¨€åˆ‡æ¢

åœ¨è®¾ç½®é¡µé¢æ·»åŠ ï¼š
```typescript
import i18n from '@/locales';

const changeLanguage = (lang: string) => {
  i18n.changeLanguage(lang);
};
```

## ç¿»è¯‘æ–‡æœ¬åˆ†ç±»

### Timer ç›¸å…³ï¼ˆtimer.jsonï¼‰
```json
{
  "start": "Start",
  "pause": "Pause",
  "resume": "Resume",
  "skip": "Skip",
  "working": "Working",
  "short_break": "Short Break",
  "long_break": "Long Break",
  "idle": "Ready to start",
  "paused": "Paused"
}
```

### Stats ç›¸å…³ï¼ˆstats.jsonï¼‰
```json
{
  "today_overview": "Today's Overview",
  "completed": "Completed",
  "focus_minutes": "Focus Minutes",
  "completion_rate": "Completion Rate",
  "today_sessions": "Today's Sessions",
  "no_sessions": "No sessions yet",
  "start_first": "Start your first pomodoro!"
}
```

### Settings ç›¸å…³ï¼ˆsettings.jsonï¼‰
```json
{
  "duration_settings": "Duration Settings",
  "work_duration": "Work Duration",
  "short_break_duration": "Short Break",
  "long_break_duration": "Long Break",
  "daily_goal": "Daily Goal",
  "notifications": "Notifications",
  "enable_notifications": "Enable Notifications",
  "enable_sound": "Enable Sound",
  "auto_control": "Auto Control",
  "auto_start_break": "Auto Start Break",
  "auto_start_work": "Auto Start Work"
}
```

## æœ€ä½³å®è·µ

### 1. æ–‡æœ¬ç»„ç»‡
- âœ… æŒ‰åŠŸèƒ½æ¨¡å—åˆ†æ–‡ä»¶ï¼ˆcommon, timer, stats, settingsï¼‰
- âœ… ä½¿ç”¨åµŒå¥—ç»“æ„ç»„ç»‡ç›¸å…³æ–‡æœ¬
- âœ… è‹±æ–‡ä½œä¸º key çš„åŸºç¡€ï¼ˆæ–¹ä¾¿ç†è§£ï¼‰

### 2. ç¿»è¯‘è´¨é‡
- âœ… è‹±æ–‡å¿…é¡»ä¸“ä¸šã€åœ°é“
- âœ… ä¸­æ–‡ç®€æ´ã€å£è¯­åŒ–
- âœ… ä¿æŒä¸€è‡´çš„è¯­è¨€é£æ ¼

### 3. å˜é‡æ’å€¼
```json
{
  "minutes": "{{count}} minutes",
  "completed_sessions": "Completed {{count}} pomodoros"
}
```

ä½¿ç”¨ï¼š
```typescript
t('timer.minutes', { count: 25 })
// è¾“å‡ºï¼š25 minutes
```

### 4. å¤æ•°å½¢å¼
```json
{
  "session_one": "{{count}} pomodoro",
  "session_other": "{{count}} pomodoros"
}
```

## æ‰§è¡Œæµç¨‹

### è‡ªåŠ¨åŒ–å®ç°ï¼ˆä½¿ç”¨æ­¤ skillï¼‰
```
/skill i18n
```

å°†è‡ªåŠ¨ï¼š
1. å®‰è£…å¿…è¦çš„ä¾èµ–
2. åˆ›å»ºè¯­è¨€æ–‡ä»¶ç»“æ„
3. é…ç½® i18n ç³»ç»Ÿ
4. æå–æ‰€æœ‰ç¡¬ç¼–ç æ–‡æœ¬
5. æ›¿æ¢ä¸º i18n è°ƒç”¨
6. æ·»åŠ è¯­è¨€åˆ‡æ¢åŠŸèƒ½
7. æµ‹è¯•å›½é™…åŒ–æ•ˆæœ

### æ‰‹åŠ¨æ£€æŸ¥æ¸…å•
- [ ] æ‰€æœ‰ç”¨æˆ·å¯è§æ–‡æœ¬éƒ½å·²å›½é™…åŒ–
- [ ] è‹±æ–‡ç¿»è¯‘ä¸“ä¸šå‡†ç¡®
- [ ] è¯­è¨€åˆ‡æ¢åŠŸèƒ½æ­£å¸¸
- [ ] ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨æ£€æµ‹
- [ ] æ— ç¡¬ç¼–ç æ–‡æœ¬é—æ¼

## é‡è¦æé†’

### âš ï¸ å¿…é¡»å›½é™…åŒ–çš„å†…å®¹
- âœ… æ‰€æœ‰ UI æ–‡æœ¬ï¼ˆæŒ‰é’®ã€æ ‡é¢˜ã€æç¤ºç­‰ï¼‰
- âœ… é€šçŸ¥å†…å®¹
- âœ… é”™è¯¯æç¤º
- âœ… ç©ºçŠ¶æ€æ–‡æœ¬
- âœ… è®¾ç½®è¯´æ˜

### âŒ ä¸éœ€è¦å›½é™…åŒ–çš„å†…å®¹
- ä»£ç æ³¨é‡Šï¼ˆå¯ä¿æŒä¸­æ–‡ï¼‰
- æ—¥å¿—è¾“å‡ºï¼ˆå¼€å‘ç”¨ï¼‰
- æ–‡æ¡£æ–‡ä»¶ï¼ˆREADME ç­‰ï¼‰

## è¯­è¨€æ”¯æŒä¼˜å…ˆçº§

### P0ï¼ˆå¿…é¡»ï¼‰
- ğŸ‡ºğŸ‡¸ English (en) - é»˜è®¤è¯­è¨€ï¼Œé¢å‘å…¨çƒç”¨æˆ·

### P1ï¼ˆåº”è¯¥æœ‰ï¼‰
- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡ (zh-CN) - ä¸­å›½ç”¨æˆ·

### P2ï¼ˆå¯ä»¥æœ‰ï¼‰
- ğŸ‡¯ğŸ‡µ æ—¥æœ¬èª (ja)
- ğŸ‡°ğŸ‡· í•œêµ­ì–´ (ko)
- ğŸ‡ªğŸ‡¸ EspaÃ±ol (es)
- ğŸ‡«ğŸ‡· FranÃ§ais (fr)
- ğŸ‡©ğŸ‡ª Deutsch (de)

## æ£€æŸ¥å‘½ä»¤

```bash
# æŸ¥æ‰¾æœªå›½é™…åŒ–çš„ç¡¬ç¼–ç ä¸­æ–‡
grep -r "[\u4e00-\u9fa5]" app/ components/ --include="*.tsx" --include="*.ts" --exclude-dir=node_modules

# æŸ¥æ‰¾æœªå›½é™…åŒ–çš„ç¡¬ç¼–ç è‹±æ–‡ï¼ˆéœ€è¦äººå·¥åˆ¤æ–­ï¼‰
grep -r "å·¥ä½œ\|ä¼‘æ¯\|ç»Ÿè®¡\|è®¾ç½®" app/ components/ --include="*.tsx"
```

## è¾“å‡ºæŠ¥å‘Š

å®Œæˆåè¾“å‡ºï¼š
```
âœ… å›½é™…åŒ–å®ç°å®Œæˆ

æ”¯æŒè¯­è¨€ï¼š
- ğŸ‡ºğŸ‡¸ English (en) - é»˜è®¤
- ğŸ‡¨ğŸ‡³ ç®€ä½“ä¸­æ–‡ (zh-CN)

ç¿»è¯‘ç»Ÿè®¡ï¼š
- æ€»æ–‡æœ¬æ¡ç›®ï¼šçº¦ 80-100 æ¡
- è‹±æ–‡ç¿»è¯‘ï¼š100%
- ä¸­æ–‡ç¿»è¯‘ï¼š100%

åŠŸèƒ½éªŒè¯ï¼š
âœ… ç³»ç»Ÿè¯­è¨€è‡ªåŠ¨æ£€æµ‹
âœ… è¯­è¨€åˆ‡æ¢æ­£å¸¸
âœ… æ‰€æœ‰é¡µé¢æ–‡æœ¬å·²å›½é™…åŒ–
âœ… é€šçŸ¥å†…å®¹å·²å›½é™…åŒ–
âœ… æ— ç¡¬ç¼–ç æ–‡æœ¬æ®‹ç•™
```

---

**ä½¿ç”¨æ–¹æ³•ï¼š** åœ¨ Claude Code ä¸­è¾“å…¥ `/skill i18n` å³å¯è‡ªåŠ¨å®ç°å›½é™…åŒ–ï¼
